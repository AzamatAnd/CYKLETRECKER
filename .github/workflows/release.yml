name: üöÄ Release Ultra Modern App

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:
    inputs:
      release_type:
        description: '–¢–∏–ø —Ä–µ–ª–∏–∑–∞'
        required: true
        default: 'patch'
        type: choice
        options:
          - patch
          - minor
          - major

jobs:
  release:
    name: üöÄ Create Release
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: ‚òï Setup JDK 17
        uses: actions/setup-java@v4
        with:
          distribution: 'temurin'
          java-version: '17'
          cache: 'gradle'

      - name: üîß Setup Android SDK
        uses: android-actions/setup-android@v3

      - name: üîë Decode signing key
        run: |
          echo "${{ secrets.KEYSTORE_BASE64 }}" | base64 -d > keystore.jks

      - name: üèóÔ∏è Build release bundle
        run: ./gradlew bundleRelease

      - name: üì¶ Upload AAB for review
        uses: actions/upload-artifact@v4
        with:
          name: ultra-modern-app-bundle
          path: app/build/outputs/bundle/release/*.aab
          retention-days: 90

      - name: üöÄ Create GitHub Release
        uses: softprops/action-gh-release@v1
        with:
          files: |
            app/build/outputs/bundle/release/*.aab
          generate_release_notes: true
          draft: false
          prerelease: false
          body: |
            # üöÄ Ultra Modern Cycle Tracker ${{ github.ref_name }}

            ## ‚ú® –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ 2025 –≥–æ–¥–∞:

            ### ü§ñ **–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç**
            - üîÆ **–ü—Ä–æ–≥–Ω–æ–∑ —Å–∏–º–ø—Ç–æ–º–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
            - üß¨ **–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
            - ‚ö° **–£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º

            ### ü•Ω **VR/AR –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
            - **3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** –º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
            - **AR –Ω–∞–ª–æ–∂–µ–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ç–µ–ª–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            - **VR —Ä–µ–∂–∏–º** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è

            ### ‚õìÔ∏è **–ë–ª–æ–∫—á–µ–π–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
            - **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**
            - **NFT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è
            - **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞** –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

            ### üé® **Ultra-Modern –¥–∏–∑–∞–π–Ω**
            - **–ì–æ–ª–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≥–ª—É–±–∏–Ω—ã
            - **–ù–µ–æ–Ω–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏** –∏ –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            - **–ö–∏–±–µ—Ä–ø–∞–Ω–∫ —ç—Å—Ç–µ—Ç–∏–∫–∞** –≤ —Å—Ç–∏–ª–µ 2025 –≥–æ–¥–∞

            ## üìä **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**

            - **Android 8.0+** (API —É—Ä–æ–≤–µ–Ω—å 26+)
            - **–†–∞–∑–º–µ—Ä APK:** ~15 MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
            - **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** MVVM + Clean Architecture
            - **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Room —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
            - **–Ø–∑—ã–∫:** Kotlin 100%

            ## üîß **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
            - –ö–∞–º–µ—Ä–∞ –¥–ª—è AR —Ñ—É–Ω–∫—Ü–∏–π
            - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –±–ª–æ–∫—á–µ–π–Ω –æ–ø–µ—Ä–∞—Ü–∏–π
            - –ú–∏–Ω–∏–º—É–º 2GB RAM –¥–ª—è VR —Ä–µ–∂–∏–º–æ–≤

            ---
            *–°–æ–±—Ä–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é —É–ª—å—Ç—Ä–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã CI/CD 2025*